# Computer Vision for Container Inspection

## ⭐ Objectives
1. Train Object Detection Model for Container Number Records (CNR) Detection using YOLO11n Architecture
2. Train Object Detection Model for Letter Detection (OCR) using YOLO11n Architecture, This model will be used as part of OCR engine
3. Inference to Test Extraction of Container Number Records (Owner Prefix, Serial Number, ISO6346)
4. Simple deployment using FastAPI to Upload Container Images and Extract Container Number Records

## ✅ Datasets
### CNR Dataset
- https://www.kaggle.com/datasets/budikawira/container-cnr
### CNR Letter Detection Dataset
- https://www.kaggle.com/datasets/budikawira/container-cnr-letter-detection

## 🏗️ Project Structure
```
cv-container-inspection/
├── 📁 Deploy/                  # FastAPI deployment files
│   ├── 📁 app/                 # FastAPI Web Services
│   ├── 📁 assets/              # Model State from Training Result, generated by 📄 001_CNR_Train.ipynb and 📄 002_OCR_Train.ipynb
|   └── 📁 uploads/             # Sample of Inspection Result where [label]-src.jpg is the source image
│
├── 📁 Test/                    # Sample images for Inference Test
│
├── 📄 001_CNR_Train.ipynb      # Jupyter Notebook for Training CNR Detection Model
├── 📄 002_OCR_Train.ipynb      # Jupyter Notebook for Training Letter Detection (OCR) Model
├── 📄 003_Inference.ipynb      # Jupyter Notebook for Inference Test with Live Data
├── 📄 requirements.txt         # Python dependencies
└── 📄 README.md                # You are here!
```
## ⚙️ Installation
```bash
# Clone the repo
git clone https://github.com/budikawira/cv-container-inspection.git
cd cv-container-inspection

# Install dependencies
pip install -r requirements.txt
```
## 📄 Run Jupyter Notebook
### 1. 001_CNR_Train.ipynb
- Best train result will be saved in ./Deploy/assets/cnr.pt
- Train metrics will be generated in ./runs/detect1/cnr/
### 2. 002_OCR_Train.ipynb
- Best train result will be saved in ./Deploy/assets/ocr.pt
- Train metrics will be generated in ./runs/detect1/ocr/
### 3. 003_Inference.ipynb
- Load image from Internet URL
- Detect CNR objects
- Preprocess CNR objects
- Detect letters in CNR objects
- Postprocess letters to Text

# FastAPI Image Upload Service

A simple and scalable API for uploading multiple images with associated labels, built using **FastAPI** and served with **Uvicorn**.
Source code is in ./Deploy folder

---

## 🚀 Features

- Upload multiple images in a single request
- Attach custom labels to each image
- Secure file saving with unique filenames
- Detect Container Number Records (CNR) Object
- Read the CNR text
- Detect Container Damages

---

## 🛠️ Tech Stack

- **FastAPI** – Modern Python web framework for building APIs
- **Uvicorn** – Lightning-fast ASGI server
- **Python 3.8+** – Required

---

## 📦 Installation

1. Navigate to directory ./Deploy
   ```bash
   cd cv-container-inspection
   cd Deploy

2. Run the server
   ```bash
   uvicorn main.app:app --host 0.0.0.0 --port 8000 --reload

## 🧪 Testing with Swagger UI
After starting the server, open your browser and go to:
👉 [http://localhost:8000/docs](http://localhost:8000/docs)
   
   
